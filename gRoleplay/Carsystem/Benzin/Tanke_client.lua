-- Blips
createBlip ( -1681.7896728516, 407.72265625, 5.6796879768372, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip ( -2415.208984375, 976.42901611328, 43.807689666748, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle
createBlip ( -1108.8315429688, -136.8196105957, 0, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                     -- Tankstelle
createBlip ( -1122.7724609375, -202.25073242188, 10.893966674805, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle
createBlip ( -2244.2653808594, -2561.2934570313, 30.921875, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip ( 658.52795410156, -565.03424072266, 15.3359375, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip ( 1003.8759155273, -940.43975830078, 41.1796875, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip ( -92.113708496094, -1171.3128662109 ,1.3799414634705, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle
createBlip ( 1597.9239501953 ,2199.1923828125 ,9.8203125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip ( 2144.8181152344 ,2748.4426269531 ,9.8203125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip ( 2113.7553710938 ,920.28552246094 ,9.8203125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip ( -736.88232421875 ,2741.0732421875 ,46.224239349365, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle
createBlip ( -1326.2266845703 ,2688.9340820313 ,49.0625, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip ( 1936.3382568359 ,-1772.1337890625 ,12.3828125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip ( 62.793960571289 ,1217.6678466797 ,17.835973739624, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle
createBlip ( -1612.5341796875 ,-2723.4165039063 ,47.5390625, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	             -- Tankstelle
createBlip (2638.4443359375 ,1106.2412109375 ,9.8203125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip (2203.1423339844 ,2473.5385742188 ,9.8203125, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	                 -- Tankstelle
createBlip (2930.8999023438,-2058.6000976563,-2.7000000476837, 42, 2, 255, 0, 0, 255, 0, 200, getRootElement() )	         -- Tankstelle für Boote

-- Marker
AirportTanke = createMarker ( -1122.7724609375, -202.25073242188, 10.893966674805, "cylinder", 50, 0,100,150 )

Tanke1  = createMarker(-2244.2653808594, -2561.2934570313, 30.921875, "cylinder", 5, 0,100,150)
Tanke2  = createMarker(658.52795410156, -565.03424072266, 15.3359375, "cylinder", 5, 0,100,150)
Tanke3  = createMarker(1003.8759155273, -940.43975830078, 41.1796875, "cylinder", 5, 0,100,150)
Tanke4  = createMarker(-92.113708496094, -1171.3128662109 ,1.3799414634705, "cylinder", 5, 0,100,150)
Tanke5  = createMarker(1597.9239501953 ,2199.1923828125 ,9.8203125, "cylinder", 5, 0,100,150)
Tanke6  = createMarker(2144.8181152344 ,2748.4426269531 ,9.8203125, "cylinder", 5, 0,100,150)
Tanke7  = createMarker(2113.7553710938 ,920.28552246094 ,9.8203125, "cylinder", 5, 0,100,150)
Tanke8  = createMarker(-736.88232421875 ,2741.0732421875 ,46.224239349365, "cylinder", 5, 0,100,150)
Tanke9  = createMarker(-1326.2266845703 ,2688.9340820313 ,49.0625, "cylinder", 5, 0,100,150)
Tanke10 = createMarker(1936.3382568359 ,-1772.1337890625 ,12.3828125, "cylinder", 5, 0,100,150)
Tanke11 = createMarker(62.793960571289 ,1217.6678466797 ,17.835973739624, "cylinder", 5, 0,100,150)
Tanke12 = createMarker(-1612.5341796875 ,-2723.4165039063 ,47.5390625, "cylinder", 5, 0,100,150)
Tanke13 = createMarker(2638.4443359375 ,1106.2412109375 ,9.8203125, "cylinder", 5, 0,100,150)
Tanke14 = createMarker(2203.1423339844 ,2473.5385742188 ,9.8203125, "cylinder", 5, 0,100,150)
Tanke15 = createMarker ( -1681.7896728516, 407.72265625, 5.6796879768372, "cylinder", 5, 0,100,150 )
Tanke16 = createMarker ( -2415.208984375, 976.42901611328, 43.807689666748, "cylinder", 5, 0,100,150 )

BootTanke = createMarker(2930.8999023438,-2058.6000976563,-2.7000000476837,'cylinder',6,0,0,255)


helicopters = { [548]=true, [425]=true, [417]=true, [487]=true, [488]=true, [497]=true, [563]=true, [447]=true, [469]=true }
planea = { [512]=true, [593]=true, [476]=true, [460]=true, [513]=true }
planeb = { [592]=true, [577]=true, [511]=true, [520]=true, [553]=true, [519]=true }

function showTankenGui ( player )
	if player == getLocalPlayer() then
		if isPedInVehicle(player) then
			if(getElementData(lp,"ElementClicked")==false)then
				showCursor ( true )
				setElementData ( getLocalPlayer(), "ElementClicked", true, true )
			
				local screenwidth, screenheight = guiGetScreenSize ()
				gWindow["tankstelle"] = guiCreateStaticImage(0.37, 0.01, 0.26, 0.39, "Images/Background.png", true)
				gEdit["literFill"] = guiCreateEdit(0.47, 0.29, 0.50, 0.11, "", true,gWindow["tankstelle"])
				guiSetAlpha(gEdit["literFill"],1)
				gButton["buyKannister"] = guiCreateButton(0.25, 0.66, 0.50, 0.08, "Benzinkanister kaufen (200$)", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["buyKannister"],1)
				gButton["volltanken"] = guiCreateButton(0.25, 0.55, 0.50, 0.08, "Fahrzeug Volltanken", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["volltanken"],1)
				gButton["ltanken"] = guiCreateButton(0.25, 0.43, 0.50, 0.08, "Liter Tanken", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["ltanken"],1)
				gButton["closeTanke"] = guiCreateButton(0.25, 0.89, 0.50, 0.08, "Schließen", true,gWindow["tankstelle"])
				Powerriegel = guiCreateButton(0.25, 0.77, 0.50, 0.08, "Powerriegel kaufen (3$)", true,gWindow["tankstelle"])
				
				Infolabel1 = guiCreateLabel(0.03, 0.08, 0.95, 0.20, "An einer Tankstelle kannst du dein Fahrzeug Betanken, Benzinkanister erwerben, sowie Powerriegel erwerben, welche dein Leben ein wenig auffüllen.", true, gWindow["tankstelle"])
				guiSetFont(Infolabel1, "clear-normal")
				guiLabelSetHorizontalAlign(Infolabel1, "left", true)
				Infolabel2 = guiCreateLabel(0.34, 0.31, 0.10, 0.06, "Liter:", true, gWindow["tankstelle"])
				guiSetFont(Infolabel2, "clear-normal")
				guiLabelSetHorizontalAlign(Infolabel2, "left", true)   

				addEventHandler("onClientGUIClick", gButton["closeTanke"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
					
				end,false)
				addEventHandler("onClientGUIClick", gButton["volltanken"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
					triggerServerEvent ( "fillComplete", getLocalPlayer(), getLocalPlayer() )
				end,false)
				addEventHandler("onClientGUIClick", gButton["ltanken"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
					triggerServerEvent ( "fillPart", getLocalPlayer(), getLocalPlayer(), guiGetText ( gEdit["literFill"] ) )
				end,false)
				addEventHandler("onClientGUIClick", gButton["buyKannister"],function()
					triggerServerEvent ( "buyKannister", getLocalPlayer(), getLocalPlayer() )
				end,false)
				
				-- // Powerriegel
				addEventHandler("onClientGUIClick",Powerriegel,function()
					triggerServerEvent("powersnack",getLocalPlayer(),getLocalPlayer())
				end,false)
			else
				infobox("Es ist nicht möglich, mehrere\nFenster gleichzeitig zu öffnen!")
			end
		end
	end
end
addEventHandler ( "onClientMarkerHit", Tanke1,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke2,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke3,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke4,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke5,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke6,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke7,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke8,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke9,  showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke10, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke11, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke12, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke13, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke14, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke15, showTankenGui )
addEventHandler ( "onClientMarkerHit", Tanke16, showTankenGui )
addEventHandler('onClientMarkerHit',BootTanke,showTankenGui)

function showAirportTanke ( player )
	if player == getLocalPlayer() then
		local veh = getPedOccupiedVehicle ( getLocalPlayer() )
		if isPedInVehicle(player) then
			if(getElementData(lp,"ElementClicked")==false)then
				setElementVelocity ( getPedOccupiedVehicle ( getLocalPlayer() ), 0, 0, 0 )
				showCursor ( true )
				setElementData ( getLocalPlayer(), "ElementClicked", true, true )
				toggleAllControls ( getLocalPlayer(), false )
			
				local screenwidth, screenheight = guiGetScreenSize ()
				gWindow["tankstelle"] = guiCreateStaticImage(0.37, 0.01, 0.26, 0.39, "Images/Background.png", true)
				gEdit["literFill"] = guiCreateEdit(0.47, 0.29, 0.50, 0.11, "", true,gWindow["tankstelle"])
				guiSetAlpha(gEdit["literFill"],1)
				gButton["buyKannister"] = guiCreateButton(0.25, 0.66, 0.50, 0.08, "Benzinkanister kaufen (200$)", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["buyKannister"],1)
				gButton["volltanken"] = guiCreateButton(0.25, 0.55, 0.50, 0.08, "Fahrzeug Volltanken", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["volltanken"],1)
				gButton["ltanken"] = guiCreateButton(0.25, 0.43, 0.50, 0.08, "Liter Tanken", true,gWindow["tankstelle"])
				guiSetAlpha(gButton["ltanken"],1)
				gButton["closeTanke"] = guiCreateButton(0.25, 0.89, 0.50, 0.08, "Schließen", true,gWindow["tankstelle"])
				Powerriegel = guiCreateButton(0.25, 0.77, 0.50, 0.08, "Powerriegel kaufen (3$)", true,gWindow["tankstelle"])
				
				Infolabel1 = guiCreateLabel(0.03, 0.08, 0.95, 0.20, "An einer Tankstelle kannst du dein Fahrzeug Betanken, Benzinkanister erwerben, sowie Powerriegel erwerben, welche dein Leben ein wenig auffüllen.", true, gWindow["tankstelle"])
				guiSetFont(Infolabel1, "clear-normal")
				guiLabelSetHorizontalAlign(Infolabel1, "left", true)
				Infolabel2 = guiCreateLabel(0.34, 0.31, 0.10, 0.06, "Liter:", true, gWindow["tankstelle"])
				guiSetFont(Infolabel2, "clear-normal")
				guiLabelSetHorizontalAlign(Infolabel2, "left", true)   

				addEventHandler("onClientGUIClick", gButton["closeTanke"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
				end,false)
				addEventHandler("onClientGUIClick", gButton["volltanken"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
					triggerServerEvent ( "fillComplete", getLocalPlayer(), getLocalPlayer() )
				end,false)
				addEventHandler("onClientGUIClick", gButton["ltanken"],function()
					guiSetVisible ( gWindow["tankstelle"], false )
					showCursor(false)
					triggerServerEvent ( "cancel_gui_server", getLocalPlayer() )
					triggerServerEvent ( "fillPart", getLocalPlayer(), getLocalPlayer(), guiGetText ( gEdit["literFill"] ) )
				end,false)
				addEventHandler("onClientGUIClick", gButton["buyKannister"],function()
					triggerServerEvent ( "buyKannister", getLocalPlayer(), getLocalPlayer() )
				end,false)
				
				-- Powerriegel
				addEventHandler("onClientGUIClick",Powerriegel,function()
					triggerServerEvent("powersnack",getLocalPlayer(),getLocalPlayer())
				end,false)
			else
				infobox("Es ist nicht möglich, mehrere\nFenster gleichzeitig zu öffnen!")
			end
		end
	end
end
addEventHandler ( "onClientMarkerHit", AirportTanke, showAirportTanke )